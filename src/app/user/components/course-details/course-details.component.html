<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>

    <div class="maindiv" [ngStyle]="{ 'background-color': isDarkTheme ? '#161616' : 'white' }">

        <div class="videoplayer">

            <!-- video player -->
            <div class="image-container" *ngIf="showVideo">

                <vg-player [class.hovered]="isHovered" (mouseenter)="onMouseEnter()" (mouseleave)="onMouseLeave()"
                    (onPlayerReady)="onPlayerReady($event)"
                    style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border-radius: 10px;">
                    <vg-overlay-play *ngIf="!isradarvisible"></vg-overlay-play>
                    <vg-buffering vgFor="singlevideo"></vg-buffering>

                    <!-- Custom buttons for zoom in and zoom out -->
                    <div class="customvgbtns" [@fadeInOut]="isHovered ? 'in' : 'out'" class="customvgbtns"
                        *ngIf="isHovered"
                        style="position: absolute; bottom: 0.1px; z-index: 999;display: flex;justify-content: space-between;">
                        <button *ngIf="isZoomin" (click)="Leftvideo()"><span nz-icon nzType="caret-left"
                                nzTheme="fill"></span></button>

                        <button style="font-family:monospace;display: flex;align-items: center;" *ngIf="isZoomin"
                            (click)="zoomIn()">Zoom In</button>
                        <button style="font-family:monospace;display: flex;align-items: center;" *ngIf="isZoomin"
                            (click)="rightvideo()"><span nz-icon nzType="caret-right" nzTheme="fill"></span></button>
                        <button style="font-family:monospace;display: flex;align-items: center;" *ngIf="isZoomin"
                            (click)="monkeyview()">Monkey</button>
                        <button style="font-family:monospace;display: flex;align-items: center;" *ngIf="isZoomin"
                            (click)="backviewcamera()">Back View</button>

                        <button style="font-family:monospace;display: flex;align-items: center;" *ngIf="isZoomout"
                            (click)="zoomOut()">Zoom Out</button>
                        <button style="font-family:monospace;display: flex;align-items: center;" *ngIf="isgoback"
                            (click)="goback()">Go Back</button>
                        <button style="font-family:monospace;display: flex;align-items: center;" *ngIf="isZoomin"
                            (click)="Radar()">Radar</button>
                        <button style="font-family:monospace;display: flex;align-items: center;" *ngIf="isZoomin"
                            (click)="ecdis()">Ecdis</button>
                        <button style="font-family:monospace;display: flex;align-items: center;" *ngIf="isZoomin"
                            (click)="objective()">Objective</button>

                        <button style="font-family:monospace;display: flex;align-items: center;" *ngIf="isZoomin"
                            (click)="toggleTheme()">
                            <span *ngIf="!isDarkTheme">Night Mode</span>
                            <span *ngIf="isDarkTheme">Day Mode</span>
                        </button>
                    </div>

                    <vg-controls [class.endFullScreen]="isradarvisible" [@fadeInOut]="isHovered ? 'in' : 'out'"
                        *ngIf="isHovered">
                        <vg-play-pause *ngIf="!isradarvisible"></vg-play-pause>
                        <!-- <vg-playback-button></vg-playback-button> -->
                        <vg-time-display *ngIf="!isradarvisible" vgProperty="current"
                            vgFormat="mm:ss"></vg-time-display>
                        <vg-scrub-bar *ngIf="!isradarvisible" style="pointer-events: none;">
                            <vg-scrub-bar-current-time></vg-scrub-bar-current-time>
                            <vg-scrub-bar-buffering-time></vg-scrub-bar-buffering-time>
                        </vg-scrub-bar>
                        <vg-time-display *ngIf="!isradarvisible" vgProperty="left" vgFormat="mm:ss"></vg-time-display>
                        <!-- <vg-time-display vgProperty="total" vgFormat="mm:ss"></vg-time-display> -->
                        <!-- <vg-track-selector></vg-track-selector> -->
                        <vg-mute *ngIf="!isradarvisible"></vg-mute>
                        <vg-volume *ngIf="!isradarvisible"></vg-volume>
                        <vg-fullscreen></vg-fullscreen>
                    </vg-controls>

                    <video *ngIf="!isradarvisible" [vgMedia]="$any(videoPlayer)" #videoPlayer id="singlevideo" preload
                        crossorigin>
                    </video>
                    <video *ngIf="isradarvisible" [poster]="radarImage" [vgMedia]="$any(videoPlayer1)" #videoPlayer1
                        id="singlevideo1" preload crossorigin>
                    </video>
                </vg-player>

            </div>


            <!-- rewatch video -->

            <div class="image-container" *ngIf="showRewatchandAssessment">
                <div class="overlayCourse"></div>
                <img src="assets/images/end.jpg" alt="" style="position: absolute;
               top: 0;
               left: 0;
               width: 100%;
               object-fit: cover;
               height: 100%;border-radius: 10px;">


                <div class="rewatch-video-container">
                    <button nzTooltipTitle="Rewatch" (click)="rewatchVideo()" class="start-button3"
                        style="background-color: transparent;">
                        <img src="assets/icons/refresh.svg" alt="" />
                    </button>
                </div>

                <div class="assesment-button-container">
                    <button (click)="StartAssesment()" class="start-button4">
                        Start Assesment
                    </button>
                </div>

                <!-- <div class="nextButton">
                    <button (click)="playNextVideo()"><span nz-icon nzType="right" nzTheme="outline"
                            style="color: #fff"></span></button>


                </div> -->

            </div>


        </div>



        <div class="contentlist" [ngStyle]="{ 'background-color': isDarkTheme ? '#161616' : 'white' }">
            <h3 style="font-size: 20px;font-weight: 700;">Course Content</h3>



            <div *ngFor="let video of dayVideoArray" class="coursecontentcard" [class.disabled]="video.isDisabled"
                (click)="loadVideo(video)" [ngStyle]="{ 'background-color': isDarkTheme ? '#161616' : 'white' }">
                <div style="width: 40%;display: flex;align-items: center;justify-content: start;">
                    <video style="height: 90px;width: 250px;object-fit: cover;" [src]="video.src"></video>
                </div>

                <div style="width: 50%;display: flex;align-items: start;flex-direction: column;">
                    <h3 style="font-weight: 700;">{{video.videotitle}}</h3>
                    <div style="width: 100%;">
                        <div style="display: flex;justify-content: space-between;">
                            <div style="color: #828282;
                                            font-size: 12px;
                                            font-family: Calibri;
                                            font-weight: 400;">Progress</div>
                            <div>{{video.progressPercentage}} %</div>
                        </div>

                        <nz-progress style="height:80%; margin-bottom: 10px;" nzSize="small"
                            [nzStrokeColor]="{ '0%': '#3194A0', '100%': '#3194A0' }"
                            [nzPercent]="video.progressPercentage" [nzShowInfo]="false"></nz-progress>
                    </div>
                    <span style="color: red;" *ngIf="!video.isAssessmentCompleted && !video.isDisabled">Assessment
                        Pending</span>
                    <span style="color:green;" *ngIf="video.isAssessmentCompleted && !video.isDisabled">Assessment
                        Completed</span>
                    <h3></h3>
                </div>
            </div>
        </div>
    </div>

</body>

</html>